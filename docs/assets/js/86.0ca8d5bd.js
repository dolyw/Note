(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{255:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"æ•´ä½“æµç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ•´ä½“æµç¨‹"}},[t._v("#")]),t._v(" æ•´ä½“æµç¨‹")]),t._v(" "),a("p",[t._v("ä¸€ç›´æƒ³è‡ªå·±å†™ä¸€ä¸ªç®€å•çš„ç§’æ€æ¶æ„çš„æ¼”å˜ï¼ŒåŠ å¼ºè‡ªå·±ï¼Œå‚è€ƒäº†å¾ˆå¤šåšå®¢å’Œæ–‡ç« ï¼Œå¦‚æœ‰ä¸æ­£ç¡®çš„åœ°æ–¹è¯·æŒ‡å‡ºï¼Œæ„Ÿè°¢ğŸ˜‹")]),t._v(" "),a("p",[a("strong",[t._v("åœ°å€")])]),t._v(" "),a("ul",[a("li",[t._v("Githubï¼š"),a("a",{attrs:{href:"https://github.com/dolyw/SeckillEvolution",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/dolyw/SeckillEvolution"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("Gitee(ç äº‘)ï¼š"),a("a",{attrs:{href:"https://gitee.com/dolyw/SeckillEvolution",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://gitee.com/dolyw/SeckillEvolution"),a("OutboundLink")],1)])]),t._v(" "),a("p",[a("router-link",{attrs:{to:"/seckill-evolution/"}},[a("strong",[t._v("ç›®å½•")])])],1),t._v(" "),a("ul",[a("li",[a("strong",[t._v("0. æ•´ä½“æµç¨‹")])]),t._v(" "),a("li",[a("router-link",{attrs:{to:"/seckill-evolution/01-Tradition-Process.html"}},[t._v("1. ä¼ ç»Ÿæ–¹å¼")])],1),t._v(" "),a("li",[a("router-link",{attrs:{to:"/seckill-evolution/02-Optimistic-Lock.html"}},[t._v("2. ä½¿ç”¨ä¹è§‚é”")])],1),t._v(" "),a("li",[a("router-link",{attrs:{to:"/seckill-evolution/03-Optimistic-Lock-Redis.html"}},[t._v("3. ä½¿ç”¨ç¼“å­˜")])],1),t._v(" "),a("li",[a("router-link",{attrs:{to:"/seckill-evolution/04-Distributed-Limit.html"}},[t._v("4. ä½¿ç”¨åˆ†å¸ƒå¼é™æµ")])],1),t._v(" "),a("li",[a("router-link",{attrs:{to:"/seckill-evolution/05-MQ-Async.html"}},[t._v("5. ä½¿ç”¨é˜Ÿåˆ—å¼‚æ­¥ä¸‹å•")])],1)]),t._v(" "),a("h2",{attrs:{id:"_1-å¸¸è§åœºæ™¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-å¸¸è§åœºæ™¯"}},[t._v("#")]),t._v(" 1. å¸¸è§åœºæ™¯")]),t._v(" "),a("p",[t._v("æœ€å…¸å‹çš„å°±æ˜¯æ·˜å®äº¬ä¸œç­‰ç”µå•†åŒåä¸€ç§’æ€äº†ï¼ŒçŸ­æ—¶é—´ä¸Šäº¿çš„ç”¨æˆ·æ¶Œå…¥ï¼Œç¬é—´æµé‡å·¨å¤§(é«˜å¹¶å‘)ã€‚ä¾‹å¦‚ï¼Œ"),a("strong",[t._v("200ä¸‡äººå‡†å¤‡åœ¨å‡Œæ™¨12:00å‡†å¤‡æŠ¢è´­ä¸€ä»¶å•†å“")]),t._v("ï¼Œä½†æ˜¯"),a("strong",[t._v("å•†å“çš„æ•°é‡æ˜¯æœ‰é™çš„100ä»¶")]),t._v("ï¼Œè¿™æ ·"),a("strong",[t._v("çœŸå®èƒ½è´­ä¹°åˆ°è¯¥ä»¶å•†å“çš„ç”¨æˆ·ä¹Ÿåªæœ‰100äººåŠä»¥ä¸‹ï¼Œä¸èƒ½å–è¶…")])]),t._v(" "),a("p",[t._v("ä½†æ˜¯ä»ä¸šåŠ¡ä¸Šæ¥è¯´ï¼Œç§’æ€æ´»åŠ¨æ˜¯å¸Œæœ›æ›´å¤šçš„äººæ¥å‚ä¸ï¼Œä¹Ÿå°±æ˜¯æŠ¢è´­ä¹‹å‰å¸Œæœ›æœ‰è¶Šæ¥è¶Šå¤šçš„äººæ¥çœ‹è´­ä¹°å•†å“ï¼Œä½†æ˜¯ï¼Œåœ¨æŠ¢è´­æ—¶é—´è¾¾åˆ°åï¼Œç”¨æˆ·å¼€å§‹çœŸæ­£ä¸‹å•æ—¶ï¼Œ"),a("strong",[t._v("ç§’æ€çš„æœåŠ¡å™¨åç«¯å´ä¸å¸Œæœ›åŒæ—¶æœ‰å‡ ç™¾ä¸‡äººåŒæ—¶å‘èµ·æŠ¢è´­è¯·æ±‚")])]),t._v(" "),a("p",[t._v("æˆ‘ä»¬éƒ½çŸ¥é“æœåŠ¡å™¨çš„å¤„ç†èµ„æºæ˜¯æœ‰é™çš„ï¼Œæ‰€ä»¥å‡ºç°å³°å€¼çš„æ—¶å€™ï¼Œå¾ˆå®¹æ˜“å¯¼è‡´æœåŠ¡å™¨å®•æœºï¼Œç”¨æˆ·æ— æ³•è®¿é—®çš„æƒ…å†µå‡ºç°ï¼Œè¿™å°±å¥½æ¯”å‡ºè¡Œçš„æ—¶å€™å­˜åœ¨æ—©é«˜å³°å’Œæ™šé«˜å³°çš„é—®é¢˜ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå‡ºè¡Œå°±æœ‰äº†é”™å³°é™è¡Œçš„è§£å†³æ–¹æ¡ˆ")]),t._v(" "),a("p",[t._v("åŒç†ï¼Œåœ¨çº¿ä¸Šçš„ç§’æ€ç­‰ä¸šåŠ¡åœºæ™¯ï¼Œä¹Ÿéœ€è¦ç±»ä¼¼çš„è§£å†³æ–¹æ¡ˆï¼Œéœ€è¦å¹³å®‰åº¦è¿‡åŒæ—¶æŠ¢è´­å¸¦æ¥çš„æµé‡å³°å€¼çš„é—®é¢˜ï¼Œè¿™å°±æ˜¯"),a("strong",[t._v("æµé‡å‰Šå³°")]),t._v("çš„ç”±æ¥")]),t._v(" "),a("h2",{attrs:{id:"_2-æµé‡å‰Šå³°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-æµé‡å‰Šå³°"}},[t._v("#")]),t._v(" 2. æµé‡å‰Šå³°")]),t._v(" "),a("p",[t._v("å‰Šå³°ä»æœ¬è´¨ä¸Šæ¥è¯´å°±æ˜¯æ›´å¤šåœ°å»¶ç¼“ç”¨æˆ·è¯·æ±‚ï¼Œä»¥åŠå±‚å±‚è¿‡æ»¤ç”¨æˆ·çš„è®¿é—®éœ€æ±‚ï¼Œéµä»"),a("strong",[t._v("æœ€åè½åœ°åˆ°æ•°æ®åº“çš„è¯·æ±‚æ•°è¦å°½é‡å°‘")]),t._v("çš„åŸåˆ™")]),t._v(" "),a("p",[t._v("æµé‡å‰Šå³°ä¸»è¦æœ‰ä¸‰ç§æ“ä½œæ€è·¯("),a("strong",[t._v("æ’é˜Ÿï¼Œç­”é¢˜ï¼Œè¿‡æ»¤")]),t._v(")ï¼Œç®€å•è¯´ä¸‹")]),t._v(" "),a("ol",[a("li",[a("p",[a("strong",[t._v("æ’é˜Ÿ")]),t._v("æœ€å®¹æ˜“æƒ³åˆ°çš„è§£å†³æ–¹æ¡ˆå°±æ˜¯ç”¨"),a("strong",[t._v("æ¶ˆæ¯é˜Ÿåˆ—")]),t._v("æ¥ç¼“å†²ç¬æ—¶æµé‡ï¼ŒæŠŠåŒæ­¥çš„ç›´æ¥è°ƒç”¨è½¬æ¢æˆå¼‚æ­¥çš„é—´æ¥æ¨é€ï¼Œä¸­é—´é€šè¿‡ä¸€ä¸ªé˜Ÿåˆ—åœ¨ä¸€ç«¯æ‰¿æ¥ç¬æ—¶çš„æµé‡æ´ªå³°ï¼Œåœ¨å¦ä¸€ç«¯å¹³æ»‘åœ°å°†æ¶ˆæ¯æ¨é€å‡ºå»ï¼Œåœ¨è¿™é‡Œï¼Œ"),a("strong",[t._v("æ¶ˆæ¯é˜Ÿåˆ—")]),t._v("å°±åƒ"),a("strong",[t._v("æ°´åº“")]),t._v("ä¸€æ ·ï¼Œæ‹¦è“„ä¸Šæ¸¸çš„æ´ªæ°´ï¼Œå‰Šå‡è¿›å…¥ä¸‹æ¸¸æ²³é“çš„æ´ªå³°æµé‡ï¼Œä»è€Œè¾¾åˆ°å‡å…æ´ªæ°´ç¾å®³çš„ç›®çš„")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("ç­”é¢˜")]),t._v("ç›®çš„å…¶å®å°±æ˜¯å»¶ç¼“è¯·æ±‚ï¼Œèµ·åˆ°å¯¹è¯·æ±‚æµé‡è¿›è¡Œå‰Šå³°çš„ä½œç”¨ï¼Œä»è€Œè®©ç³»ç»Ÿèƒ½å¤Ÿæ›´å¥½åœ°æ”¯æŒç¬æ—¶çš„æµé‡é«˜å³°")])]),t._v(" "),a("li",[a("p",[t._v("å‰é¢ä»‹ç»çš„æ’é˜Ÿå’Œç­”é¢˜ï¼Œè¦ä¹ˆæ˜¯åœ¨æ¥æ”¶è¯·æ±‚æ—¶åšç¼“å†²ï¼Œè¦ä¹ˆæ˜¯å‡å°‘è¯·æ±‚çš„åŒæ—¶å‘é€ï¼Œè€Œé’ˆå¯¹ç§’æ€åœºæ™¯è¿˜æœ‰ä¸€ç§æ–¹æ³•ï¼Œå°±æ˜¯å¯¹è¯·æ±‚è¿›è¡Œ"),a("strong",[t._v("åˆ†å±‚è¿‡æ»¤")]),t._v("ï¼Œä»è€Œè¿‡æ»¤æ‰ä¸€äº›æ— æ•ˆçš„è¯·æ±‚ï¼Œä»Webå±‚æ¥åˆ°è¯·æ±‚ï¼Œåˆ°ç¼“å­˜ï¼Œæ¶ˆæ¯é˜Ÿåˆ—ï¼Œæœ€ç»ˆåˆ°æ•°æ®åº“è¿™æ ·å°±åƒæ¼æ–—ä¸€æ ·ï¼Œå°½é‡æŠŠæ•°æ®é‡å’Œè¯·æ±‚é‡ä¸€å±‚ä¸€å±‚åœ°è¿‡æ»¤å’Œå‡å°‘äº†ï¼Œæœ€ç»ˆï¼Œåˆ°æ¼æ–—æœ€æœ«ç«¯(æ•°æ®åº“)çš„æ‰æ˜¯æœ‰æ•ˆè¯·æ±‚")])])]),t._v(" "),a("h2",{attrs:{id:"_3-é¡¹ç›®å‡†å¤‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-é¡¹ç›®å‡†å¤‡"}},[t._v("#")]),t._v(" 3. é¡¹ç›®å‡†å¤‡")]),t._v(" "),a("h3",{attrs:{id:"_3-1-è¡¨ç»“æ„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-è¡¨ç»“æ„"}},[t._v("#")]),t._v(" 3.1. è¡¨ç»“æ„")]),t._v(" "),a("p",[t._v("è¿™é‡Œæˆ‘é‡‡ç”¨çš„æ˜¯"),a("strong",[t._v("MySQL")]),t._v("ï¼Œç®€å•çš„ä½¿ç”¨ä¸¤ä¸ªè¡¨ï¼Œä¸€ä¸ªåº“å­˜è¡¨ï¼Œä¸€ä¸ªè®¢å•è¡¨ï¼Œæ’å…¥ä¸€æ¡å•†å“æ•°æ®")]),t._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--- åˆ é™¤æ•°æ®åº“")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("drop")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("database")]),t._v(" seckill"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--- åˆ›å»ºæ•°æ®åº“")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("create")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("database")]),t._v(" seckill"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--- ä½¿ç”¨æ•°æ®åº“")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" seckill"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--- åˆ›å»ºåº“å­˜è¡¨")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DROP")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("IF")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("EXISTS")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("t_seckill_stock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("t_seckill_stock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("unsigned")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AUTO_INCREMENT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'åº“å­˜ID'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("varchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'OnePlus 7 Pro'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'åç§°'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'åº“å­˜'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("sale"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'å·²å”®'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("version"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ä¹è§‚é”ï¼Œç‰ˆæœ¬å·'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("create_time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("timestamp")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CURRENT_TIMESTAMP")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'åˆ›å»ºæ—¶é—´'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("update_time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("timestamp")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CURRENT_TIMESTAMP")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ON")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("UPDATE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CURRENT_TIMESTAMP")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'æ›´æ–°æ—¶é—´'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PRIMARY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("KEY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENGINE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("InnoDB")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CHARSET")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("utf8mb4 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COLLATE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("utf8mb4_bin "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'åº“å­˜è¡¨'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--- æ’å…¥ä¸€æ¡å•†å“ï¼Œåˆå§‹åŒ–10ä¸ªåº“å­˜")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INSERT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INTO")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("t_seckill_stock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("sale"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("version"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("VALUES")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'10'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--- åˆ›å»ºåº“å­˜è®¢å•è¡¨")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DROP")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("IF")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("EXISTS")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("t_seckill_stock_order"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("t_seckill_stock_order"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("unsigned")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AUTO_INCREMENT")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("stock_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'åº“å­˜ID'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("varchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'OnePlus 7 Pro'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'å•†å“åç§°'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("create_time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("timestamp")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CURRENT_TIMESTAMP")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ON")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("UPDATE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CURRENT_TIMESTAMP")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'åˆ›å»ºæ—¶é—´'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PRIMARY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("KEY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENGINE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("InnoDB")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CHARSET")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("utf8mb4 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COLLATE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("utf8mb4_bin "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'åº“å­˜è®¢å•è¡¨'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"_3-2-å·¥ç¨‹åˆ›å»º"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-å·¥ç¨‹åˆ›å»º"}},[t._v("#")]),t._v(" 3.2. å·¥ç¨‹åˆ›å»º")]),t._v(" "),a("p",[t._v("è¿™ä¸ªè‡ªè¡Œåˆ›å»ºå³å¯ï¼Œæˆ‘åˆ›å»ºçš„æ˜¯ä¸€ä¸ª"),a("strong",[t._v("SpringBoot2")]),t._v("é¡¹ç›®ï¼Œ"),t._v("ç„¶åä½¿ç”¨"),a("strong",[t._v("ä»£ç ç”Ÿæˆå·¥å…·")]),t._v(": "),a("a",{attrs:{href:"https://github.com/dolyw/ViewGenerator",target:"_blank",rel:"noopener noreferrer"}},[t._v("ViewGenerator"),a("OutboundLink")],1),t._v("ï¼Œæ ¹æ®è¡¨ç»“æ„ç”Ÿæˆä¸€ä¸‹å¯¹åº”çš„æ–‡ä»¶ï¼Œè®°å¾—ç§»é™¤è¡¨å‰ç¼€å‚æ•°"),a("code",[t._v("t_seckill_")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/wliduo/CDN@master/2019/11/20191120002.png",alt:"å›¾ç‰‡"}})]),t._v(" "),a("p",[t._v("ä½¿ç”¨"),a("strong",[t._v("é€šç”¨Mapper")]),t._v("è¦åœ¨"),a("strong",[t._v("Application")]),t._v("å¤„åŠ ä¸ªæ³¨è§£"),a("code",[t._v("@tk.mybatis.spring.annotation.MapperScan")])]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@SpringBootApplication")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@tk")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mybatis"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("spring"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("annotation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MapperScan")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.example.dao"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Application")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SpringApplication")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Application")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("SpringBoot2")]),t._v("è¿æ¥"),a("strong",[t._v("MySQL")]),a("code",[t._v("url")]),t._v("å±æ€§è¦é…ç½®"),a("strong",[t._v("serverTimezone=GMT%2B8")]),t._v("ï¼Œ"),a("code",[t._v("driver-class-name")]),t._v("å±æ€§è¦æ”¹ä¸º"),a("strong",[t._v("com.mysql.cj.jdbc.Driver")])]),t._v(" "),a("div",{staticClass:"language-yml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("server")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("port")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8080")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spring")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("datasource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" SeckillEvolution\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" jdbc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("mysql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//127.0.0.1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("3306/seckill"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("?")]),t._v("serverTimezone=GMT%2B8"),a("span",{pre:!0,attrs:{class:"token important"}},[t._v("&useSSL")]),t._v("=false"),a("span",{pre:!0,attrs:{class:"token important"}},[t._v("&useUnicode")]),t._v("=true"),a("span",{pre:!0,attrs:{class:"token important"}},[t._v("&characterEncoding")]),t._v("=UTF"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("username")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" root\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("password")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" root\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ä½¿ç”¨Druidæ•°æ®æº")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" com.alibaba.druid.pool.DruidDataSource\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("driver-class-name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" com.mysql.jdbc.Driver\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("druid")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("filters")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" stat\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("maxActive")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("initialSize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("maxWait")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("60000")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("minIdle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("timeBetweenEvictionRunsMillis")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("60000")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("minEvictableIdleTimeMillis")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("300000")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("validationQuery")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" select 'x'\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("testWhileIdle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("testOnBorrow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("testOnReturn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("poolPreparedStatements")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("maxOpenPreparedStatements")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 404äº¤ç»™å¼‚å¸¸å¤„ç†å™¨å¤„ç†")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("mvc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("throw-exception-if-no-handler-found")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 404äº¤ç»™å¼‚å¸¸å¤„ç†å™¨å¤„ç†")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("resources")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("add-mappings")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("mybatis")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Mybatisé…ç½®Mapperè·¯å¾„")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("mapper-locations")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" classpath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("mapper/*.xml\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Mybatisé…ç½®Modelç±»å¯¹åº”")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type-aliases-package")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" com.example.dto.custom\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("pagehelper")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("params")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" count=countSql\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æŒ‡å®šåˆ†é¡µæ’ä»¶ä½¿ç”¨å“ªç§æ–¹è¨€")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("helper-dialect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mysql\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# åˆ†é¡µåˆç†åŒ–å‚æ•° pageNum<=0æ—¶ä¼šæŸ¥è¯¢ç¬¬ä¸€é¡µ pageNum>pages(è¶…è¿‡æ€»æ•°æ—¶) ä¼šæŸ¥è¯¢æœ€åä¸€é¡µ")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("reasonable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'true'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("support-methods-arguments")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'true'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("mapper")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# é€šç”¨Mapperçš„insertSelectiveå’ŒupdateByPrimaryKeySelectiveä¸­æ˜¯å¦åˆ¤æ–­å­—ç¬¦ä¸²ç±»å‹!=''")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("not-empty")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("logging")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Debugæ‰“å°SQL")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("level.com.example.dao")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" debug\n")])])]),a("h3",{attrs:{id:"_3-3-åˆå§‹ä»£ç "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-åˆå§‹ä»£ç "}},[t._v("#")]),t._v(" 3.3. åˆå§‹ä»£ç ")]),t._v(" "),a("p",[t._v("å…ˆç¼–å†™ä¸€ä¸ªå…¥å£"),a("strong",[t._v("Controller")]),t._v("ï¼Œé»˜è®¤æœ‰ä¸€ä¸ªåˆå§‹åŒ–åº“å­˜æ–¹æ³•")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("SeckillEvolutionController")])])]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * ä¸€ä¸ªç®€å•çš„ç§’æ€æ¶æ„çš„æ¼”å˜\n *\n * @author wliduo[i@dolyw.com]\n * @date 2019/11/20 19:49\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@RestController")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@RequestMapping")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/seckill"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SeckillEvolutionController")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n     * logger\n     */")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Logger")]),t._v(" logger "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("LoggerFactory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getLogger")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SeckillEvolutionController")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IStockService")]),t._v(" stockService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IStockOrderService")]),t._v(" stockOrderService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ISeckillEvolutionService")]),t._v(" seckillEvolutionService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n     * æ„é€ æ³¨å…¥\n     * @param stockService\n     * @param stockOrderService\n     */")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Autowired")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SeckillEvolutionController")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IStockService")]),t._v(" stockService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IStockOrderService")]),t._v(" stockOrderService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                      "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ISeckillEvolutionService")]),t._v(" seckillEvolutionService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stockService "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" stockService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stockOrderService "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" stockOrderService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("seckillEvolutionService "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" seckillEvolutionService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n     * åˆå§‹åŒ–åº“å­˜æ•°é‡\n     */")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Integer")]),t._v(" ITEM_STOCK_COUNT "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n     * åˆå§‹åŒ–å–å‡ºæ•°é‡ï¼Œä¹è§‚é”ç‰ˆæœ¬\n     */")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Integer")]),t._v(" ITEM_STOCK_SALE "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n     * åˆå§‹åŒ–åº“å­˜æ•°é‡\n     * \n     * @param id å•†å“ID\n     * @return com.example.common.ResponseBean\n     * @throws \n     * @author wliduo[i@dolyw.com]\n     * @date 2019/11/22 15:59\n     */")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@PutMapping")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/init/{id}"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ResponseBean")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@PathVariable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Integer")]),t._v(" id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ›´æ–°åº“å­˜è¡¨è¯¥å•†å“çš„åº“å­˜ï¼Œå·²å”®ï¼Œä¹è§‚é”ç‰ˆæœ¬å·")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StockDto")]),t._v(" stockDto "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StockDto")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        stockDto"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        stockDto"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Constant")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ITEM_STOCK_NAME"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        stockDto"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setCount")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ITEM_STOCK_COUNT"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        stockDto"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setSale")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ITEM_STOCK_SALE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        stockDto"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setVersion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ITEM_STOCK_SALE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        stockService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateByPrimaryKey")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("stockDto"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ é™¤è®¢å•è¡¨è¯¥å•†å“æ‰€æœ‰æ•°æ®")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StockOrderDto")]),t._v(" stockOrderDto "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StockOrderDto")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        stockOrderDto"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setStockId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        stockOrderService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("delete")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("stockOrderDto"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ResponseBean")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpStatus")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("OK"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"åˆå§‹åŒ–åº“å­˜æˆåŠŸ"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("å†åˆ›å»ºä¸€ä¸ª"),a("strong",[t._v("Service")]),t._v("æä¾›æµç¨‹ä½¿ç”¨")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("ISeckillEvolutionService")])])]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("example"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("service")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * ISeckillEvolutionService\n *\n * @author wliduo[i@dolyw.com]\n * @date 2019-11-20 18:03:33\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ISeckillEvolutionService")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[a("strong",[t._v("SeckillEvolutionServiceImpl")])])]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * StockServiceImpl\n *\n * @author wliduo[i@dolyw.com]\n * @date 2019-11-20 18:03:33\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Service")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"seckillEvolutionService"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SeckillEvolutionServiceImpl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ISeckillEvolutionService")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("æœ€åæä¾›ä¸€ä¸ªç§’æ€æ¥å£ä»¥ä¾›å®ç°")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("ISeckillService")])])]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("example"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("seckill")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("example"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dto"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("custom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StockDto")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * ç»Ÿä¸€æ¥å£\n *\n * @author wliduo[i@dolyw.com]\n * @date 2019-11-20 18:03:33\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ISeckillService")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n     * æ£€æŸ¥åº“å­˜\n     *\n     * @param id\n     * @return com.example.dto.custom.StockDto\n     * @throws\n     * @author wliduo[i@dolyw.com]\n     * @date 2019/11/20 20:22\n     */")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StockDto")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("checkStock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Integer")]),t._v(" id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n     * æ‰£åº“å­˜\n     *\n     * @param stockDto\n     * @return java.lang.Integer æ“ä½œæˆåŠŸæ¡æ•°\n     * @throws\n     * @author wliduo[i@dolyw.com]\n     * @date 2019/11/20 20:24\n     */")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Integer")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("saleStock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StockDto")]),t._v(" stockDto"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n     * ä¸‹è®¢å•\n     *\n     * @param stockDto\n     * @return java.lang.Integer æ“ä½œæˆåŠŸæ¡æ•°\n     * @throws\n     * @author wliduo[i@dolyw.com]\n     * @date 2019/11/20 20:26\n     */")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Integer")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createOrder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StockDto")]),t._v(" stockDto"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"_4-æ€è·¯æµç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-æ€è·¯æµç¨‹"}},[t._v("#")]),t._v(" 4. æ€è·¯æµç¨‹")]),t._v(" "),a("p",[t._v("ä¸€èˆ¬çš„ç§’æ€æµç¨‹ä»åå°æ¥æ”¶åˆ°è¯·æ±‚å¼€å§‹ä¸å¤–ä¹æ˜¯è¿™æ ·çš„(è¿™é‡Œä¸è€ƒè™‘å‰ç«¯çš„ç­”é¢˜ï¼ŒéªŒè¯ç ç­‰æµç¨‹ï¼Œç›´æ¥ä»¥æœ€ç»ˆåç«¯ä¸‹å•çš„è¯·æ±‚å¼€å§‹)")]),t._v(" "),a("ol",[a("li",[t._v("ç”¨æˆ·é€šè¿‡å‰ç«¯æ ¡éªŒæœ€ç»ˆå‘èµ·è¯·æ±‚åˆ°åç«¯")]),t._v(" "),a("li",[t._v("ç„¶åæ ¡éªŒåº“å­˜ï¼Œæ‰£åº“å­˜ï¼Œåˆ›å»ºè®¢å•")]),t._v(" "),a("li",[t._v("æœ€ç»ˆæ•°æ®è½åœ°ï¼ŒæŒä¹…åŒ–ä¿å­˜")])]),t._v(" "),a("h3",{attrs:{id:"_4-1-ä¼ ç»Ÿæ–¹å¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-ä¼ ç»Ÿæ–¹å¼"}},[t._v("#")]),t._v(" 4.1. ä¼ ç»Ÿæ–¹å¼")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬é¦–å…ˆæ­å»ºä¸€ä¸ªåå°æœåŠ¡æ¥å£(å®ç°æ ¡éªŒåº“å­˜ï¼Œæ‰£åº“å­˜ï¼Œåˆ›å»ºè®¢å•)ï¼Œä¸åšä»»ä½•é™åˆ¶ï¼Œä½¿ç”¨"),a("strong",[t._v("JMeter")]),t._v("ï¼Œæ¨¡æ‹Ÿ"),a("strong",[t._v("500")]),t._v("ä¸ªå¹¶å‘çº¿ç¨‹æµ‹è¯•è´­ä¹°"),a("strong",[t._v("10")]),t._v("ä¸ªåº“å­˜çš„å•†å“ï¼Œåœ°å€: "),a("router-link",{attrs:{to:"/seckill-evolution/01-Tradition-Process.html"}},[t._v("1. ä¼ ç»Ÿæ–¹å¼")])],1),t._v(" "),a("p",[t._v("å¯ä»¥å‘ç°"),a("strong",[t._v("å¹¶å‘äº‹åŠ¡ä¸‹ä¼šå‡ºç°é”™è¯¯")]),t._v("ï¼Œå‡ºç°"),a("strong",[t._v("å–è¶…é—®é¢˜")]),t._v("ï¼Œè¿™æ˜¯å› ä¸ºåŒä¸€æ—¶é—´å¤§é‡çº¿ç¨‹åŒæ—¶è¯·æ±‚æ ¡éªŒåº“å­˜ï¼Œæ‰£åº“å­˜ï¼Œåˆ›å»ºè®¢å•ï¼Œè¿™ä¸‰ä¸ªæ“ä½œä¸åœ¨åŒä¸€ä¸ªåŸå­ï¼Œæ¯”å¦‚ï¼Œå¾ˆå¤šçº¿ç¨‹åŒæ—¶è¯»åˆ°åº“å­˜ä¸º"),a("strong",[t._v("10")]),t._v("ï¼Œè¿™æ ·éƒ½ç©¿è¿‡äº†æ ¡éªŒåº“å­˜çš„åˆ¤æ–­ï¼Œæ‰€ä»¥å‡ºç°å–è¶…é—®é¢˜")]),t._v(" "),a("p",[t._v("åœ¨è¿™ç§æƒ…å†µä¸‹å°±å¼•å…¥äº†"),a("strong",[t._v("é”")]),t._v("çš„æ¦‚å¿µï¼Œé”åŒºåˆ†ä¸º"),a("strong",[t._v("ä¹è§‚é”å’Œæ‚²è§‚é”")]),t._v("ï¼Œæ‚²è§‚é”éƒ½æ˜¯ç‰ºç‰²æ€§èƒ½ä¿è¯æ•°æ®ï¼Œæ‰€ä»¥åœ¨è¿™ç§é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œä¸€èˆ¬éƒ½æ˜¯ä½¿ç”¨"),a("strong",[t._v("ä¹è§‚é”")]),t._v("è§£å†³")]),t._v(" "),a("h3",{attrs:{id:"_4-2-ä½¿ç”¨ä¹è§‚é”"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-ä½¿ç”¨ä¹è§‚é”"}},[t._v("#")]),t._v(" 4.2. ä½¿ç”¨ä¹è§‚é”")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å†æ­å»ºä¸€ä¸ªåå°æœåŠ¡æ¥å£(å®ç°æ ¡éªŒåº“å­˜ï¼Œæ‰£åº“å­˜ï¼Œåˆ›å»ºè®¢å•)ï¼Œä½†æ˜¯è¿™æ¬¡æˆ‘ä»¬éœ€è¦ä½¿ç”¨"),a("strong",[t._v("ä¹è§‚é”")]),t._v("ï¼Œè¿™é‡Œå¯ä»¥å…ˆæŸ¥çœ‹ä¸€ç¯‡æ–‡ç« : "),a("a",{attrs:{href:"http://note.dolyw.com/database/01-MySQL-Lock.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("MySQLé‚£äº›é”"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("ä½¿ç”¨"),a("strong",[t._v("JMeter")]),t._v("ï¼Œæ¨¡æ‹Ÿ"),a("strong",[t._v("500")]),t._v("ä¸ªå¹¶å‘çº¿ç¨‹æµ‹è¯•è´­ä¹°"),a("strong",[t._v("10")]),t._v("ä¸ªåº“å­˜çš„å•†å“ï¼Œåœ°å€: "),a("router-link",{attrs:{to:"/seckill-evolution/02-Optimistic-Lock.html"}},[t._v("2. ä½¿ç”¨ä¹è§‚é”")])],1),t._v(" "),a("p",[t._v("å¯ä»¥å‘ç°ä¹è§‚é”è§£å†³"),a("strong",[t._v("å–è¶…é—®é¢˜")]),t._v("ï¼Œå¤šä¸ªçº¿ç¨‹åŒæ—¶åœ¨"),a("strong",[t._v("æ£€æŸ¥åº“å­˜")]),t._v("çš„æ—¶å€™éƒ½ä¼šæ‹¿åˆ°å½“å‰å•†å“çš„ç›¸åŒä¹è§‚é”ç‰ˆæœ¬å·ï¼Œç„¶ååœ¨"),a("strong",[t._v("æ‰£åº“å­˜")]),t._v("æ—¶ï¼Œå¦‚æœç‰ˆæœ¬å·ä¸å¯¹ï¼Œå°±ä¼šæ‰£å‡å¤±è´¥ï¼ŒæŠ›å‡ºå¼‚å¸¸ç»“æŸï¼Œè¿™æ ·æ¯ä¸ªç‰ˆæœ¬å·å°±åªèƒ½æœ‰ç¬¬ä¸€ä¸ªçº¿ç¨‹æ‰£åº“å­˜æ“ä½œæˆåŠŸï¼Œå…¶ä»–ç›¸åŒç‰ˆæœ¬å·çš„çº¿ç¨‹ç§’æ€å¤±è´¥ï¼Œå°±ä¸ä¼šå­˜åœ¨"),a("strong",[t._v("å–è¶…é—®é¢˜")]),t._v("äº†")]),t._v(" "),a("p",[t._v("ä¸è¿‡ç°åœ¨æ¯æ¬¡è¯»å–åº“å­˜éƒ½å»æŸ¥æ•°æ®åº“ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹ä¸‹"),a("strong",[t._v("Druid")]),t._v("çš„ç›‘æ§ï¼Œåœ°å€: "),a("a",{attrs:{href:"http://localhost:8080/druid/sql.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://localhost:8080/druid/sql.html"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/wliduo/CDN@master/2019/11/20191123005.png",alt:"å›¾ç‰‡"}})]),t._v(" "),a("p",[t._v("å¯ä»¥çœ‹åˆ°ï¼ŒæŸ¥è¯¢åº“å­˜æ‰§è¡Œäº†"),a("strong",[t._v("500")]),t._v("æ¬¡ï¼Œéµä»"),a("strong",[t._v("æœ€åè½åœ°åˆ°æ•°æ®åº“çš„è¯·æ±‚æ•°è¦å°½é‡å°‘")]),t._v("çš„åŸåˆ™ï¼Œå…¶å®æˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªæ•°æ®æ”¾ç¼“å­˜ï¼Œæå‡æ€§èƒ½")]),t._v(" "),a("h3",{attrs:{id:"_4-3-ä½¿ç”¨ç¼“å­˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-ä½¿ç”¨ç¼“å­˜"}},[t._v("#")]),t._v(" 4.3. ä½¿ç”¨ç¼“å­˜")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬ç»§ç»­æ­å»ºä¸€ä¸ªåå°æœåŠ¡æ¥å£(å®ç°æ ¡éªŒåº“å­˜ï¼Œæ‰£åº“å­˜ï¼Œåˆ›å»ºè®¢å•)ï¼Œè¿™æ¬¡æˆ‘ä»¬å¼•å…¥"),a("strong",[t._v("ç¼“å­˜")]),t._v("ï¼Œè¿™é‡Œå¯ä»¥å…ˆæŸ¥çœ‹ä¸€ç¯‡æ–‡ç« : "),a("a",{attrs:{href:"https://note.dolyw.com/cache/00-DataBaseConsistency.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Redisä¸æ•°æ®åº“ä¸€è‡´æ€§"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("è¿™é‡Œæˆ‘é‡‡ç”¨çš„æ˜¯"),a("strong",[t._v("å…ˆæ›´æ–°æ•°æ®åº“å†æ›´æ–°ç¼“å­˜")]),t._v("ï¼Œå› ä¸ºè¿™é‡Œ"),a("strong",[t._v("ç¼“å­˜æ•°æ®è®¡ç®—ç®€å•")]),t._v("ï¼Œåªéœ€è¦è¿›è¡ŒåŠ å‡ä¸€å³å¯ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥è¿›è¡Œæ›´æ–°ç¼“å­˜")]),t._v(" "),a("p",[t._v("è¿™æ¬¡ä¸»è¦æ”¹é€ æ˜¯"),a("strong",[t._v("æ£€æŸ¥åº“å­˜å’Œæ‰£åº“å­˜")]),t._v("æ–¹æ³•ï¼Œ"),a("strong",[t._v("æ£€æŸ¥åº“å­˜")]),t._v("ç›´æ¥å»"),a("strong",[t._v("Redis")]),t._v("è·å–ï¼Œä¸å†å»æŸ¥æ•°æ®åº“ï¼Œè€Œåœ¨"),a("strong",[t._v("æ‰£åº“å­˜")]),t._v("è¿™é‡Œæœ¬èº«æ˜¯ä½¿ç”¨çš„ä¹è§‚é”æ“ä½œï¼Œåªæœ‰æ“ä½œæˆåŠŸ(æ‰£åº“å­˜æˆåŠŸ)çš„æ‰éœ€è¦"),a("strong",[t._v("æ›´æ–°ç¼“å­˜æ•°æ®")])]),t._v(" "),a("p",[t._v("ä½¿ç”¨"),a("strong",[t._v("JMeter")]),t._v("ï¼Œæ¨¡æ‹Ÿ"),a("strong",[t._v("500")]),t._v("ä¸ªå¹¶å‘çº¿ç¨‹æµ‹è¯•è´­ä¹°"),a("strong",[t._v("10")]),t._v("ä¸ªåº“å­˜çš„å•†å“ï¼Œåœ°å€: "),a("router-link",{attrs:{to:"/seckill-evolution/03-Optimistic-Lock-Redis.html"}},[t._v("3. ä½¿ç”¨ç¼“å­˜")])],1),t._v(" "),a("p",[t._v("æˆ‘ä»¬å¯ä»¥çœ‹ä¸‹ä½¿ç”¨ç¼“å­˜å"),a("strong",[t._v("Druid")]),t._v("çš„ç›‘æ§ï¼Œåœ°å€: "),a("a",{attrs:{href:"http://localhost:8080/druid/sql.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://localhost:8080/druid/sql.html"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("ä½¿ç”¨äº†ç¼“å­˜ï¼Œå¯ä»¥çœ‹åˆ°åº“å­˜æŸ¥è¯¢"),a("strong",[t._v("SQL")]),t._v("ï¼Œ"),a("strong",[t._v("åªæ‰§è¡Œäº†ä¸€æ¬¡ï¼Œå°±æ˜¯ç¼“å­˜é¢„çƒ­é‚£æ‰§è¡Œäº†ä¸€æ¬¡")]),t._v("ï¼Œä¸åƒä¹‹å‰æ¯æ¬¡åº“å­˜éƒ½å»æŸ¥æ•°æ®åº“")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/wliduo/CDN@master/2019/11/20191123010.png",alt:"å›¾ç‰‡"}})]),t._v(" "),a("p",[t._v("ä¸è¿‡"),a("strong",[t._v("ä¹è§‚é”æ›´æ–°")]),t._v("æ“ä½œè¿˜æ˜¯æ‰§è¡Œäº†"),a("strong",[t._v("157")]),t._v("æ¬¡"),a("strong",[t._v("SQL")]),t._v("ï¼Œéµä»"),a("strong",[t._v("æœ€åè½åœ°åˆ°æ•°æ®åº“çš„è¯·æ±‚æ•°è¦å°½é‡å°‘")]),t._v("çš„åŸåˆ™ï¼Œæœ‰æ²¡æœ‰åŠæ³•ä¼˜åŒ–è¿™é‡Œå‘¢ï¼Œå¯ä»¥çš„ï¼Œ"),a("strong",[t._v("å®é™…ä¸Šå¾ˆå¤šéƒ½æ˜¯æ— æ•ˆè¯·æ±‚")]),t._v("ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨"),a("strong",[t._v("é™æµ")]),t._v("ï¼ŒæŠŠå¤§éƒ¨åˆ†æ— æ•ˆè¯·æ±‚æ‹¦æˆªäº†ï¼Œå°½å¯èƒ½ä¿è¯æœ€ç»ˆåˆ°è¾¾æ•°æ®åº“çš„éƒ½æ˜¯æœ‰æ•ˆè¯·æ±‚")]),t._v(" "),a("h3",{attrs:{id:"_4-4-ä½¿ç”¨åˆ†å¸ƒå¼é™æµ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-ä½¿ç”¨åˆ†å¸ƒå¼é™æµ"}},[t._v("#")]),t._v(" 4.4. ä½¿ç”¨åˆ†å¸ƒå¼é™æµ")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬ç»§ç»­æ­å»ºä¸€ä¸ªåå°æœåŠ¡æ¥å£(å®ç°æ ¡éªŒåº“å­˜ï¼Œæ‰£åº“å­˜ï¼Œåˆ›å»ºè®¢å•)ï¼Œè¿™æ¬¡æˆ‘ä»¬å¼•å…¥"),a("strong",[t._v("é™æµ")]),t._v("ï¼Œè¿™é‡Œå¯ä»¥å…ˆæŸ¥çœ‹ä¸€ç¯‡æ–‡ç« : "),a("a",{attrs:{href:"http://note.dolyw.com/seckill/02-Distributed-Limit.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("é«˜å¹¶å‘ä¸‹çš„é™æµåˆ†æ"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("ä½¿ç”¨"),a("strong",[t._v("JMeter")]),t._v("ï¼Œæ¨¡æ‹Ÿ"),a("strong",[t._v("500")]),t._v("ä¸ªå¹¶å‘çº¿ç¨‹æµ‹è¯•è´­ä¹°"),a("strong",[t._v("10")]),t._v("ä¸ªåº“å­˜çš„å•†å“ï¼Œåœ°å€: "),a("router-link",{attrs:{to:"/seckill-evolution/04-Distributed-Limit.html"}},[t._v("4. ä½¿ç”¨åˆ†å¸ƒå¼é™æµ")])],1),t._v(" "),a("p",[t._v("æˆ‘ä»¬å¯ä»¥çœ‹ä¸‹ Druid çš„ç›‘æ§ï¼Œåœ°å€: "),a("a",{attrs:{href:"http://localhost:8080/druid/sql.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://localhost:8080/druid/sql.html"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/wliduo/CDN@master/2019/11/20191127004.png",alt:"å›¾ç‰‡"}})]),t._v(" "),a("p",[a("strong",[t._v("ä½¿ç”¨äº†é™æµï¼Œå¯ä»¥çœ‹åˆ°ä¹è§‚é”æ›´æ–°ä¸åƒä¹‹å‰é‚£æ ·æ‰§è¡Œ 157 æ¬¡äº†ï¼Œåªæ‰§è¡Œäº† 36 æ¬¡ï¼Œå¾ˆå¤šè¯·æ±‚ç›´æ¥è¢«é™æµäº†")]),t._v("ï¼Œæˆ‘ä»¬çœ‹ä¸‹åå°æ—¥å¿—ï¼Œå¯ä»¥çœ‹åˆ°å¾ˆå¤šè¯·æ±‚ç›´æ¥è¢«é™æµé™åˆ¶äº†ï¼Œè¿™æ ·å°±è¾¾åˆ°äº†æˆ‘ä»¬çš„ç›®çš„")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/wliduo/CDN@master/2019/11/20191127005.png",alt:"å›¾ç‰‡"}})]),t._v(" "),a("h3",{attrs:{id:"_4-5-ä½¿ç”¨é˜Ÿåˆ—å¼‚æ­¥ä¸‹å•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-ä½¿ç”¨é˜Ÿåˆ—å¼‚æ­¥ä¸‹å•"}},[t._v("#")]),t._v(" 4.5. ä½¿ç”¨é˜Ÿåˆ—å¼‚æ­¥ä¸‹å•")]),t._v(" "),a("p",[t._v("é‚£æˆ‘ä»¬è¿˜å¯ä»¥æ€ä¹ˆä¼˜åŒ–æé«˜ååé‡ä»¥åŠæ€§èƒ½å‘¢ï¼Œæˆ‘ä»¬ä¸Šæ–‡æ‰€æœ‰ä¾‹å­å…¶å®éƒ½æ˜¯"),a("strong",[t._v("åŒæ­¥è¯·æ±‚")]),t._v("ï¼Œå®Œå…¨å¯ä»¥åˆ©ç”¨"),a("strong",[t._v("åŒæ­¥è½¬å¼‚æ­¥æ¥æé«˜æ€§èƒ½")]),t._v("ï¼Œè¿™é‡Œæˆ‘ä»¬å°†ä¸‹è®¢å•çš„æ“ä½œè¿›è¡Œå¼‚æ­¥åŒ–ï¼Œåˆ©ç”¨æ¶ˆæ¯é˜Ÿåˆ—æ¥è¿›è¡Œè§£è€¦ï¼Œè¿™æ ·å¯ä»¥è®© DB å¼‚æ­¥æ‰§è¡Œä¸‹å•")]),t._v(" "),a("p",[a("strong",[t._v("æ¯å½“ä¸€ä¸ªè¯·æ±‚é€šè¿‡äº†é™æµå’Œåº“å­˜æ ¡éªŒä¹‹åå°±å°†è®¢å•ä¿¡æ¯å‘ç»™æ¶ˆæ¯é˜Ÿåˆ—ï¼Œè¿™æ ·ä¸€ä¸ªè¯·æ±‚å°±å¯ä»¥ç›´æ¥è¿”å›äº†ï¼Œæ¶ˆè´¹ç¨‹åºåšä¸‹è®¢å•çš„æ“ä½œï¼Œå¯¹æ•°æ®è¿›è¡Œå…¥åº“è½åœ°")]),t._v("ï¼Œå› ä¸ºå¼‚æ­¥äº†ï¼Œæ‰€ä»¥æœ€ç»ˆéœ€è¦é‡‡å–å›è°ƒæˆ–è€…æ˜¯å…¶ä»–æé†’çš„æ–¹å¼æé†’ç”¨æˆ·è´­ä¹°å®Œæˆ")]),t._v(" "),a("p",[t._v("åœ°å€: "),a("router-link",{attrs:{to:"/seckill-evolution/05-MQ-Asynct.html"}},[t._v("5. ä½¿ç”¨é˜Ÿåˆ—å¼‚æ­¥ä¸‹å•")])],1)])}),[],!1,null,null,null);s.default=e.exports}}]);